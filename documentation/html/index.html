<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Lab Course: Image Reconstruction and Visualization using C++ Part 2: Final Project of Lab Course: Image Reconstruction and Visualization using C++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lab Course: Image Reconstruction and Visualization using C++ Part 2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Final Project of Lab Course: Image Reconstruction and Visualization using C++ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Team Members of Team 6:</h2>
<ul>
<li>Alex Gaul</li>
<li>Simon Griebel</li>
<li>Maximilian Hornung</li>
</ul>
<h2>Table of Contents</h2>
<ul>
<li>Dependencies</li>
<li>How to run</li>
<li>Acquistion widget manual</li>
<li>Reconstruction widget manual</li>
<li>Visualization widget manual</li>
</ul>
<h3>Dependencies</h3>
<p>Our project depends on both Eigen3 and Qt5.</p>
<p>We use CMake (minimum version 3.5.1) to manage our program's structure to simplify changes in it.</p>
<p>For documentation generation, we use doxygen (&gt;1.8.0).</p>
<p>If available, at least the forward projection is parallelized with OpenMP.</p>
<h3>How to run</h3>
<p>The program can be executed typing</p>
<p>./part2 path_to_volume.edf</p>
<p>into a terminal (at the location of the executable, which is called part2 by default). It is important to use only valid paths to .edf files containing three dimensional volumes.</p>
<p>The documentation is generated during the build process automatically, but it can also be updated by the command "make doc" in the build folder.</p>
<p>To view the documentation, open docs/html/index.html (relative to the location of the build folder). This will open a doxygen documentation of our project, including class hierarchies, class member overview etc.</p>
<h3><a class="el" href="classAcquisitionWidget.html">AcquisitionWidget</a> manual</h3>
<p>In the acquisition widget, the user can see the position of X-ray emitter and detector (who form an acquisition pose together) from three all axes. After clicking on one of the poses, the current acquisition pose can be rotated with the arrow keys. The user can also show the rays between the emitter and the pixels of the detector.</p>
<p>The user can store the currently modified pose, for the use in the reconstruction, which means that a new pose that can be modified/stored again is generated. The currently modified pose can also be deleted, so the last stored pose becomes the new current pose.</p>
<p>It is also possible, to generate poses automatically by generating a certain amount of circles consisting of poses around the volume. These circles are themselves generated in a (half-)circle around the acquisition. The closer these circles get to the ends of this half circle the smaller they get, which means that all the generated poses form a rough sphere. The user has to provide the number of circles and the (maximum) number of poses per circle.</p>
<p>In experiments, we found out 30 circles of poses with 30 poses per circle (maximum) are sufficient to reconstruct all information of a 10x10x10 volume (using 40 iterations of <a class="el" href="classCG.html" title="The CG class. ">CG</a> for reconstruction).</p>
<p>To simulate different real-world imaging setups in our software, we added the possibility to adjust the resolution and the size of the detector. It is also possible for the user to change the distance between detector and volume. This distance is relative to the volumes size, such that similar distances lead to similar behavior on different volumes.</p>
<p>All positions of stored acquisition poses' sources are shown on the screen as faded out red circle, while the solid red circle is the position of the currently modified pose.</p>
<p>On the right side of the screen, the user can see the current acquisition data (the image that reaches the detector in the current acquisition pose). It is also possible to show the data of all acquisition poses at the same time, where each line of pixels is the linearized result of each projection.</p>
<h3>ReconstructionWidget manual</h3>
<p>The top part of this widget shows the reconstruction results.</p>
<p>To perform the reconstruction using Conjugate Gradient (<a class="el" href="classCG.html" title="The CG class. ">CG</a>) algorithm, press "Load Acquisition". This task is computationally expensive and can take several seconds. After the computations have finished, it is possible to scroll through the reconstructed volume (along all three axes, which can be chosen using a slider). In each slice the ratio between the lengths of the visible sides of the voxels is preserved but the actual lengths may differ from perspective to perspective.</p>
<p>There are several possibilities of adjusting the reconstruction setup in the lower part of this widget:</p>
<ul>
<li>The number of iterations for <a class="el" href="classCG.html" title="The CG class. ">CG</a> can be changed - more iterations improve the results, but also increase the computational effort. We recommend using 40 iterations.</li>
<li>The user has the possibility to add a custom amount of noise to the acquisition (to simulate the situation in real world scenarios).</li>
<li>Regularization can be enabled to reduce the impact of noise on reconstruction results. The user has the possibilty to enter a custom value for lambda, to change the regularization parameter of the Tikhonov regularization. Warning: Too high values for lambda can degrade the reconstruction results to a level below the noisy image! We recommend to set lambda between 10.00 and 20.00 for an error of 4% (or similar values).</li>
</ul>
<p>After changing the setup of reconstruction, the user has to hit "Update reconstruction" to apply his changes and recompute the reconstructed volume using the new setup. The error is only recalculated (or removed) when "Update Noise" is presesd.</p>
<h3>Visualization widget manual</h3>
<p>In the visualization widget, we implemented the multiplanar reconstruction (MPR) and the direct volume rendering (DVR) using maximum intensity projection (<a class="el" href="classMIP.html" title="The MIP class. ">MIP</a>).</p>
<p>On the left side of the widget, the user has the possibility to configure the setup. He can both load a volume from a file and use previous computed reconstruction results for visualization.</p>
<p>For DVR, we implemented not only the orthographic view, but also the perspective one. The user can zoom and rotate both kinds around Y and Z axis. Additionally, it is possible to influence the visualization results by changing the step size. The user is able to focus on the important medical features by changing the range of the linear ramp transfer function as well as the color of the visualization result.</p>
<p>In the MPR widget, we implemented also several extensions. It is possible for the user, to rotate around the volume along Y and Z axis, as well as adjusting the position of view (initially, this position is set to the origin, like in the original task). Additionally, it is possible to zoom and rotate around Y and Z axis, such that the user can view any plane in the volume from any direction. In the same way as in the DVR visualization, the MPR's transfer function can be changed regarding range and color. To imporove the visualization of the cutting plane's current location, its current rotation is shown directly below the visualization. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
